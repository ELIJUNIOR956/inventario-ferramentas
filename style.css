/* Variáveis Padrão: DARK MODE */
:root{
  --bg: #2f2f2f;
  --panel: #3a3a3a;
  --card: #424242;
  --muted: #c7c7c7;
  --accent: #3b82f6;
  --text: #f3f4f6;
  --text-alt: #e6f0ff;
  --shadow: rgba(0,0,0,0.6);
  --border: #5a5a5a;
}

/* Variáveis para LIGHT MODE */
.light-theme {
  --bg: #f0f0f0;
  --panel: #ffffff;
  --card: #ffffff;
  --muted: #6b7280;
  --accent: #1054b4;
  --text: #1f2937;
  --text-alt: #0a428c;
  --shadow: rgba(0,0,0,0.1);
  --border: #d1d5db;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background:var(--bg);
  color: var(--text);
  display:flex;
  min-height:100vh;
  transition: background-color 0.3s, color 0.3s;
}

/* Sidebar */
.menu-lateral{
  width:260px;
  background:linear-gradient(180deg,var(--panel),var(--panel)); 
  height:100vh;
  padding:18px;
  position:fixed;
  left:0;
  top:0;
  box-shadow: 4px 0 18px var(--shadow);
  display:flex;
  flex-direction:column;
  gap:12px;
}
.menu-lateral .logo{
  font-weight:700;
  font-size:1.15rem;
  color:var(--text);
  margin-bottom:10px;
}
/* Estilo do botão de tema */
.theme-toggle-btn {
  background: var(--card);
  color: var(--muted);
  border: 1px solid var(--border);
  padding: 10px 14px;
  border-radius: 6px;
  font-size: 0.95rem;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s, color 0.2s, border 0.2s;
  margin-left: 10px; 
}
.theme-toggle-btn:hover {
  background: var(--bg);
  color: var(--text);
  border-color: var(--accent);
}
.menu-actions{
  margin-bottom:12px;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.btn-row{
  display:flex;
  gap:8px;
}
#fileInput{display:none}
#btnImport, #btnClear{
  padding:10px 14px;
  border-radius:6px;
  font-size:0.95rem;
  font-weight:600;
  border:none;
  cursor:pointer;
  transition:background 0.2s;
}
#btnImport{
  background:var(--accent);
  color:white;
  flex:1;
}
#btnImport:hover{background:var(--accent)}
#btnClear{
  background:var(--card);
  color:var(--muted);
}
#btnClear:hover{background:var(--border)}
.locais-list{
  overflow-y:auto;
  flex-grow:1;
  padding-right:4px;
  display:flex;
  flex-direction:column;
  gap:4px;
}
.local-btn{
  background:var(--panel);
  color:var(--muted);
  border:1px solid var(--border);
  text-align:left;
  padding:8px 12px;
  border-radius:4px;
  cursor:pointer;
  transition:all 0.2s;
  font-size:0.95rem;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.local-btn:hover{
  background:var(--bg);
  color:var(--text);
}
.local-btn.active{
  background:var(--accent);
  color:white;
  font-weight:600;
  border-color:var(--accent);
}
.versao{
  font-size:0.75rem;
  color:var(--muted);
  text-align:center;
  padding-top:10px;
  border-top:1px solid var(--border);
}

/* Conteudo Principal */
.conteudo{
  margin-left:260px; 
  flex:1;
  display:flex;
  flex-direction:column;
  padding-bottom:50px; 
}
header{
  padding:20px;
  background:var(--panel);
  border-bottom:1px solid var(--border);
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:20px;
  flex-wrap:wrap;
}
header h1{
  font-size:1.4rem;
  margin:0;
  flex-grow:1;
}
.controles{
  display:flex;
  gap:10px;
  flex-wrap: wrap; 
}
#searchInput{
  padding:10px 14px;
  border-radius:6px;
  border:1px solid var(--border);
  background:var(--bg);
  color:var(--text);
  font-size:0.95rem;
  width:250px;
  transition: background 0.3s, color 0.3s, border 0.3s;
}
#btnShowAll{
  background:var(--card);
  color:var(--text);
  border:none;
  padding:10px 14px;
  border-radius:6px;
  cursor:pointer;
  font-size:0.95rem;
  font-weight:600;
  transition:background 0.2s;
}
#btnShowAll:hover{background:var(--border)}
.main-list{
  padding:20px;
  display:grid;
  gap:20px;
  grid-template-columns:repeat(auto-fill,minmax(300px,1fr));
}
.card{
  background:var(--panel);
  border-radius:12px;
  box-shadow: 0 4px 10px var(--shadow);
  overflow:hidden;
  display:flex;
  flex-direction:column;
}
.card h3{
  background:linear-gradient(90deg, var(--bg), var(--bg));
  padding:15px 20px;
  font-size:1.1rem;
  border-bottom:1px solid var(--border);
}
.lista{
  list-style:none;
  padding:0;
  margin:0;
  display:flex;
  flex-direction:column;
}
.item{
  background:var(--card);
  padding:12px;
  border-bottom:1px solid var(--border);
  display:flex;
  justify-content:space-between;
  align-items:center;
  
  transition: transform .12s, box-shadow .12s, background-color .12s; 
  
  cursor:pointer;
}

.item:hover{
  background-color: var(--bg);
  transform:translateY(-3px);
  box-shadow: 0 8px 20px var(--shadow);
}

.item .meta{font-size:0.9rem;color:var(--muted)}
.item .nome{font-weight:600;color:var(--text-alt)}

/* Footer */
footer{padding:12px 20px;color:var(--muted); margin-top:auto; background:var(--panel)}

/* Modal detalhes */
.modal{
  position:fixed; inset:0; display:none; align-items:center; justify-content:center;
  background: rgba(0,0,0,0.6); z-index:1000;
}
.modal-conteudo{
  width:520px; max-width:94%; 
  background:linear-gradient(180deg,var(--panel),var(--bg)); 
  padding:18px; border-radius:12px; color:var(--text); 
  position:relative;
  box-shadow: 0 12px 30px var(--shadow);
}
.close-modal{
  position:absolute; right:12px; top:12px; background:transparent; border:none; 
  color:var(--text); font-size:1.05rem; cursor:pointer;
}
.modal-body{
  display:flex;
  flex-direction:column;
  max-height:60vh;
  overflow-y:auto;
  margin-top:20px;
  padding-right:10px;
}
.det-row{
  display:flex;
  justify-content:space-between;
  padding:8px 0;
  border-bottom:1px dashed var(--border);
  font-size:0.95rem;
}
.det-row:last-child{border-bottom:none}
.det-row .k{font-weight:600; flex:1; color:var(--muted); align-self:center;}
.det-row .v{flex:3; text-align:right;}

/* Estilos para Edição */
.modal-body .det-row .v {
  flex: 3;
}
.modal-body .det-row input[type="text"] {
  width: 100%;
  padding: 8px;
  border: 1px solid var(--border);
  border-radius: 4px;
  background: var(--bg);
  color: var(--text);
  font-size: 1rem;
  box-sizing: border-box; 
  transition: background 0.3s, color 0.3s, border 0.3s;
}

.modal-footer {
  margin-top: 20px;
  padding-top: 15px;
  border-top: 1px solid var(--border);
  text-align: right;
}
.btn-salvar-modal {
  background: var(--accent);
  color: white;
  border: none;
  padding: 10px 18px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 1rem;
  font-weight: 600;
  transition: background 0.2s;
}
.btn-salvar-modal:hover {
  background: var(--accent); 
}

/* Responsividade para Tablets e Celulares (largura máxima de 900px) */
@media (max-width:900px){
  /* A barra lateral fixa se torna um cabeçalho de largura total */
  .menu-lateral{
    position:relative;
    width:100%;
    height:auto;
    padding:10px 18px;
    box-shadow:none;
  }
  .menu-lateral .logo{display:none}

  /* O menu de locais (abas) fica horizontalmente scrollável */
  .locais-list{
    order:3; /* move para baixo */
    flex-direction:row;
    overflow-x:auto;
    padding-bottom:10px;
    -webkit-overflow-scrolling:touch; /* Scroll suave no iOS */
  }
  .locais-list::-webkit-scrollbar{display:none}
  .local-btn{white-space:nowrap; flex-shrink:0;}
  .menu-actions{flex-direction:row; gap:10px; margin:0; flex-wrap: wrap;}
  .btn-row{flex:1}

  /* Remove a margem lateral do conteúdo principal */
  .conteudo{margin-left:0}

  /* O cabeçalho se torna vertical */
  header{flex-direction:column; align-items:flex-start; gap:10px}
  .controles{width:100%; flex-direction:column; gap:10px}

  /* Controles (busca, botões) ocupam toda a largura */
  #searchInput, #btnShowAll, .theme-toggle-btn { 
    width:100%; 
    margin-left: 0; 
  }

  /* A lista principal de itens se torna uma única coluna */
  .main-list{grid-template-columns:1fr}
  .card{box-shadow:none}
  .versao{display:none}
  
  /* O modal de edição se torna de coluna única (nome em cima, input embaixo) */
  .det-row{flex-direction:column; align-items:flex-start; padding:10px 0}
  .det-row .v{text-align:left; margin-top:4px}
}
